<!DOCTYPE html>
<html lang="zh-Hant" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>我的應用程式</title>

    <script src="https://cdn.tailwindcss.com"></script>
    
</head>

<body>
    <div th:fragment="content">
    
    <!-- 這個 div 的內容會被插入到主佈局的 <main> 區域 -->
    
        <div class="flex justify-between items-center mb-6">
            <h1 class="text-3xl font-semibold text-gray-800">顧客列表</h1>
            <!-- 未來可以加入搜尋框或篩選器 -->
        </div>

        <!-- 顧客列表表格 -->
        <div class="bg-white shadow-md rounded-lg overflow-hidden">
            <div class="overflow-x-auto">
                <table   class="min-w-full divide-y divide-gray-200">
                    <thead class="bg-gray-50">
                        <tr>
                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">顧客 ID</th>
                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">顧客姓名</th>
                            <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">電子郵件</th>
                            <th scope="col" class="relative px-6 py-3"><span class="sr-only">操作</span></th>
                        </tr>
                    </thead>
                    <tbody class="bg-white divide-y divide-gray-200">
                        
                        <!-- 使用 th:each 遍歷從 Controller 傳來的 "customers" 列表 -->
                        <tr th:each="customer : ${customers}">
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500" th:text="${customer.id}">CUST-001</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900" th:text="${customer.customerName}">王小明</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500" th:text="${customer.email}">ming.wang@example.com</td>
                            <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                <!-- 連結到顧客的詳細分析頁面 -->
                                <a th:href="@{/customers/{id}(id=${customer.id})}" class="text-indigo-600 hover:text-indigo-900">查看詳情</a>
                            </td>
                        </tr>

                        <!-- 如果顧客列表是空的，顯示這段提示訊息 -->
                        <tr th:if="${#lists.isEmpty(customers)}">
                            <td colspan="4" class="px-6 py-12 text-center text-gray-500">
                                目前沒有任何顧客資料。
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <!-- 未來可以在這裡加入分頁元件 -->
    </div>
</body>
</html>